{
  "questionId": "4118",
  "questionFrontendId": "3829",
  "title": "Design Ride Sharing System",
  "titleSlug": "design-ride-sharing-system",
  "content": "<p>A ride sharing system manages ride requests from riders and availability from drivers. Riders request rides, and drivers become available over time. The system should match riders and drivers in the order they arrive.</p>\n\n<p>Implement the <code>RideSharingSystem</code> class:</p>\n\n<ul>\n\t<li><code>RideSharingSystem()</code> Initializes the system.</li>\n\t<li><code>void addRider(int riderId)</code> Adds a new rider with the given <code>riderId</code>.</li>\n\t<li><code>void addDriver(int driverId)</code> Adds a new driver with the given <code>driverId</code>.</li>\n\t<li><code>int[] matchDriverWithRider()</code> Matches the <strong>earliest</strong> available driver with the <strong>earliest</strong> waiting rider and removes both of them from the system. Returns an integer array of size 2 where <code>result = [driverId, riderId]</code> if a match is made. If no match is available, returns <code>[-1, -1]</code>.</li>\n\t<li><code>void cancelRider(int riderId)</code> Cancels the ride request of the rider with the given <code>riderId</code> <strong>if the rider exists</strong> and has <strong>not</strong> yet been matched.</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong><br />\n<span class=\"example-io\">[&quot;RideSharingSystem&quot;, &quot;addRider&quot;, &quot;addDriver&quot;, &quot;addRider&quot;, &quot;matchDriverWithRider&quot;, &quot;addDriver&quot;, &quot;cancelRider&quot;, &quot;matchDriverWithRider&quot;, &quot;matchDriverWithRider&quot;]<br />\n[[], [3], [2], [1], [], [5], [3], [], []]</span></p>\n\n<p><strong>Output:</strong><br />\n<span class=\"example-io\">[null, null, null, null, [2, 3], null, null, [5, 1], [-1, -1]] </span></p>\n\n<p><strong>Explanation</strong></p>\nRideSharingSystem rideSharingSystem = new RideSharingSystem(); // Initializes the system<br />\nrideSharingSystem.addRider(3); // rider 3 joins the queue<br />\nrideSharingSystem.addDriver(2); // driver 2 joins the queue<br />\nrideSharingSystem.addRider(1); // rider 1 joins the queue<br />\nrideSharingSystem.matchDriverWithRider(); // returns [2, 3]<br />\nrideSharingSystem.addDriver(5); // driver 5 becomes available<br />\nrideSharingSystem.cancelRider(3); // rider 3 is already matched, cancel has no effect<br />\nrideSharingSystem.matchDriverWithRider(); // returns [5, 1]<br />\nrideSharingSystem.matchDriverWithRider(); // returns [-1, -1]</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong><br />\n<span class=\"example-io\">[&quot;RideSharingSystem&quot;, &quot;addRider&quot;, &quot;addDriver&quot;, &quot;addDriver&quot;, &quot;matchDriverWithRider&quot;, &quot;addRider&quot;, &quot;cancelRider&quot;, &quot;matchDriverWithRider&quot;]<br />\n[[], [8], [8], [6], [], [2], [2], []]</span></p>\n\n<p><strong>Output:</strong><br />\n<span class=\"example-io\">[null, null, null, null, [8, 8], null, null, [-1, -1]] </span></p>\n\n<p><strong>Explanation</strong></p>\nRideSharingSystem rideSharingSystem = new RideSharingSystem(); // Initializes the system<br />\nrideSharingSystem.addRider(8); // rider 8 joins the queue<br />\nrideSharingSystem.addDriver(8); // driver 8 joins the queue<br />\nrideSharingSystem.addDriver(6); // driver 6 joins the queue<br />\nrideSharingSystem.matchDriverWithRider(); // returns [8, 8]<br />\nrideSharingSystem.addRider(2); // rider 2 joins the queue<br />\nrideSharingSystem.cancelRider(2); // rider 2 cancels<br />\nrideSharingSystem.matchDriverWithRider(); // returns [-1, -1]</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= riderId, driverId &lt;= 1000</code></li>\n\t<li>Each <code>riderId</code> is <strong>unique</strong> among riders and is added at most <strong>once</strong>.</li>\n\t<li>Each <code>driverId</code> is <strong>unique</strong> among drivers and is added at most <strong>once</strong>.</li>\n\t<li>At most 1000 calls will be made in <strong>total</strong> to <code>addRider</code>​​​​​​​, <code>addDriver</code>, <code>matchDriverWithRider</code>, and <code>cancelRider</code>.</li>\n</ul>\n",
  "difficulty": "Medium",
  "codeSnippets": [
    {
      "lang": "C++",
      "code": "class RideSharingSystem {\npublic:\n    RideSharingSystem() {\n        \n    }\n    \n    void addRider(int riderId) {\n        \n    }\n    \n    void addDriver(int driverId) {\n        \n    }\n    \n    vector<int> matchDriverWithRider() {\n        \n    }\n    \n    void cancelRider(int riderId) {\n        \n    }\n};\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * RideSharingSystem* obj = new RideSharingSystem();\n * obj->addRider(riderId);\n * obj->addDriver(driverId);\n * vector<int> param_3 = obj->matchDriverWithRider();\n * obj->cancelRider(riderId);\n */"
    },
    {
      "lang": "Java",
      "code": "class RideSharingSystem {\n\n    public RideSharingSystem() {\n        \n    }\n    \n    public void addRider(int riderId) {\n        \n    }\n    \n    public void addDriver(int driverId) {\n        \n    }\n    \n    public int[] matchDriverWithRider() {\n        \n    }\n    \n    public void cancelRider(int riderId) {\n        \n    }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * RideSharingSystem obj = new RideSharingSystem();\n * obj.addRider(riderId);\n * obj.addDriver(driverId);\n * int[] param_3 = obj.matchDriverWithRider();\n * obj.cancelRider(riderId);\n */"
    },
    {
      "lang": "Python3",
      "code": "class RideSharingSystem:\n\n    def __init__(self):\n        \n\n    def addRider(self, riderId: int) -> None:\n        \n\n    def addDriver(self, driverId: int) -> None:\n        \n\n    def matchDriverWithRider(self) -> List[int]:\n        \n\n    def cancelRider(self, riderId: int) -> None:\n        \n\n\n# Your RideSharingSystem object will be instantiated and called as such:\n# obj = RideSharingSystem()\n# obj.addRider(riderId)\n# obj.addDriver(driverId)\n# param_3 = obj.matchDriverWithRider()\n# obj.cancelRider(riderId)"
    },
    {
      "lang": "Python",
      "code": "class RideSharingSystem(object):\n\n    def __init__(self):\n        \n\n    def addRider(self, riderId):\n        \"\"\"\n        :type riderId: int\n        :rtype: None\n        \"\"\"\n        \n\n    def addDriver(self, driverId):\n        \"\"\"\n        :type driverId: int\n        :rtype: None\n        \"\"\"\n        \n\n    def matchDriverWithRider(self):\n        \"\"\"\n        :rtype: List[int]\n        \"\"\"\n        \n\n    def cancelRider(self, riderId):\n        \"\"\"\n        :type riderId: int\n        :rtype: None\n        \"\"\"\n        \n\n\n# Your RideSharingSystem object will be instantiated and called as such:\n# obj = RideSharingSystem()\n# obj.addRider(riderId)\n# obj.addDriver(driverId)\n# param_3 = obj.matchDriverWithRider()\n# obj.cancelRider(riderId)"
    },
    {
      "lang": "JavaScript",
      "code": "\nvar RideSharingSystem = function() {\n    \n};\n\n/** \n * @param {number} riderId\n * @return {void}\n */\nRideSharingSystem.prototype.addRider = function(riderId) {\n    \n};\n\n/** \n * @param {number} driverId\n * @return {void}\n */\nRideSharingSystem.prototype.addDriver = function(driverId) {\n    \n};\n\n/**\n * @return {number[]}\n */\nRideSharingSystem.prototype.matchDriverWithRider = function() {\n    \n};\n\n/** \n * @param {number} riderId\n * @return {void}\n */\nRideSharingSystem.prototype.cancelRider = function(riderId) {\n    \n};\n\n/** \n * Your RideSharingSystem object will be instantiated and called as such:\n * var obj = new RideSharingSystem()\n * obj.addRider(riderId)\n * obj.addDriver(driverId)\n * var param_3 = obj.matchDriverWithRider()\n * obj.cancelRider(riderId)\n */"
    },
    {
      "lang": "TypeScript",
      "code": "class RideSharingSystem {\n    constructor() {\n        \n    }\n\n    addRider(riderId: number): void {\n        \n    }\n\n    addDriver(driverId: number): void {\n        \n    }\n\n    matchDriverWithRider(): number[] {\n        \n    }\n\n    cancelRider(riderId: number): void {\n        \n    }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * var obj = new RideSharingSystem()\n * obj.addRider(riderId)\n * obj.addDriver(driverId)\n * var param_3 = obj.matchDriverWithRider()\n * obj.cancelRider(riderId)\n */"
    },
    {
      "lang": "C#",
      "code": "public class RideSharingSystem {\n\n    public RideSharingSystem() {\n        \n    }\n    \n    public void AddRider(int riderId) {\n        \n    }\n    \n    public void AddDriver(int driverId) {\n        \n    }\n    \n    public int[] MatchDriverWithRider() {\n        \n    }\n    \n    public void CancelRider(int riderId) {\n        \n    }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * RideSharingSystem obj = new RideSharingSystem();\n * obj.AddRider(riderId);\n * obj.AddDriver(driverId);\n * int[] param_3 = obj.MatchDriverWithRider();\n * obj.CancelRider(riderId);\n */"
    },
    {
      "lang": "C",
      "code": "\n\n\ntypedef struct {\n    \n} RideSharingSystem;\n\n\nRideSharingSystem* rideSharingSystemCreate() {\n    \n}\n\nvoid rideSharingSystemAddRider(RideSharingSystem* obj, int riderId) {\n    \n}\n\nvoid rideSharingSystemAddDriver(RideSharingSystem* obj, int driverId) {\n    \n}\n\nint* rideSharingSystemMatchDriverWithRider(RideSharingSystem* obj, int* retSize) {\n    \n}\n\nvoid rideSharingSystemCancelRider(RideSharingSystem* obj, int riderId) {\n    \n}\n\nvoid rideSharingSystemFree(RideSharingSystem* obj) {\n    \n}\n\n/**\n * Your RideSharingSystem struct will be instantiated and called as such:\n * RideSharingSystem* obj = rideSharingSystemCreate();\n * rideSharingSystemAddRider(obj, riderId);\n \n * rideSharingSystemAddDriver(obj, driverId);\n \n * int* param_3 = rideSharingSystemMatchDriverWithRider(obj, retSize);\n \n * rideSharingSystemCancelRider(obj, riderId);\n \n * rideSharingSystemFree(obj);\n*/"
    },
    {
      "lang": "Go",
      "code": "type RideSharingSystem struct {\n    \n}\n\n\nfunc Constructor() RideSharingSystem {\n    \n}\n\n\nfunc (this *RideSharingSystem) AddRider(riderId int)  {\n    \n}\n\n\nfunc (this *RideSharingSystem) AddDriver(driverId int)  {\n    \n}\n\n\nfunc (this *RideSharingSystem) MatchDriverWithRider() []int {\n    \n}\n\n\nfunc (this *RideSharingSystem) CancelRider(riderId int)  {\n    \n}\n\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * obj := Constructor();\n * obj.AddRider(riderId);\n * obj.AddDriver(driverId);\n * param_3 := obj.MatchDriverWithRider();\n * obj.CancelRider(riderId);\n */"
    },
    {
      "lang": "Kotlin",
      "code": "class RideSharingSystem() {\n\n    fun addRider(riderId: Int) {\n        \n    }\n\n    fun addDriver(driverId: Int) {\n        \n    }\n\n    fun matchDriverWithRider(): IntArray {\n        \n    }\n\n    fun cancelRider(riderId: Int) {\n        \n    }\n\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * var obj = RideSharingSystem()\n * obj.addRider(riderId)\n * obj.addDriver(driverId)\n * var param_3 = obj.matchDriverWithRider()\n * obj.cancelRider(riderId)\n */"
    },
    {
      "lang": "Swift",
      "code": "\nclass RideSharingSystem {\n\n    init() {\n        \n    }\n    \n    func addRider(_ riderId: Int) {\n        \n    }\n    \n    func addDriver(_ driverId: Int) {\n        \n    }\n    \n    func matchDriverWithRider() -> [Int] {\n        \n    }\n    \n    func cancelRider(_ riderId: Int) {\n        \n    }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * let obj = RideSharingSystem()\n * obj.addRider(riderId)\n * obj.addDriver(driverId)\n * let ret_3: [Int] = obj.matchDriverWithRider()\n * obj.cancelRider(riderId)\n */"
    },
    {
      "lang": "Rust",
      "code": "struct RideSharingSystem {\n\n}\n\n\n/** \n * `&self` means the method takes an immutable reference.\n * If you need a mutable reference, change it to `&mut self` instead.\n */\nimpl RideSharingSystem {\n\n    fn new() -> Self {\n        \n    }\n    \n    fn add_rider(&self, rider_id: i32) {\n        \n    }\n    \n    fn add_driver(&self, driver_id: i32) {\n        \n    }\n    \n    fn match_driver_with_rider(&self) -> Vec<i32> {\n        \n    }\n    \n    fn cancel_rider(&self, rider_id: i32) {\n        \n    }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * let obj = RideSharingSystem::new();\n * obj.add_rider(riderId);\n * obj.add_driver(driverId);\n * let ret_3: Vec<i32> = obj.match_driver_with_rider();\n * obj.cancel_rider(riderId);\n */"
    },
    {
      "lang": "Ruby",
      "code": "class RideSharingSystem\n    def initialize()\n        \n    end\n\n\n=begin\n    :type rider_id: Integer\n    :rtype: Void\n=end\n    def add_rider(rider_id)\n        \n    end\n\n\n=begin\n    :type driver_id: Integer\n    :rtype: Void\n=end\n    def add_driver(driver_id)\n        \n    end\n\n\n=begin\n    :rtype: Integer[]\n=end\n    def match_driver_with_rider()\n        \n    end\n\n\n=begin\n    :type rider_id: Integer\n    :rtype: Void\n=end\n    def cancel_rider(rider_id)\n        \n    end\n\n\nend\n\n# Your RideSharingSystem object will be instantiated and called as such:\n# obj = RideSharingSystem.new()\n# obj.add_rider(rider_id)\n# obj.add_driver(driver_id)\n# param_3 = obj.match_driver_with_rider()\n# obj.cancel_rider(rider_id)"
    },
    {
      "lang": "PHP",
      "code": "class RideSharingSystem {\n    /**\n     */\n    function __construct() {\n        \n    }\n  \n    /**\n     * @param Integer $riderId\n     * @return NULL\n     */\n    function addRider($riderId) {\n        \n    }\n  \n    /**\n     * @param Integer $driverId\n     * @return NULL\n     */\n    function addDriver($driverId) {\n        \n    }\n  \n    /**\n     * @return Integer[]\n     */\n    function matchDriverWithRider() {\n        \n    }\n  \n    /**\n     * @param Integer $riderId\n     * @return NULL\n     */\n    function cancelRider($riderId) {\n        \n    }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * $obj = RideSharingSystem();\n * $obj->addRider($riderId);\n * $obj->addDriver($driverId);\n * $ret_3 = $obj->matchDriverWithRider();\n * $obj->cancelRider($riderId);\n */"
    },
    {
      "lang": "Dart",
      "code": "class RideSharingSystem {\n\n  RideSharingSystem() {\n    \n  }\n  \n  void addRider(int riderId) {\n    \n  }\n  \n  void addDriver(int driverId) {\n    \n  }\n  \n  List<int> matchDriverWithRider() {\n    \n  }\n  \n  void cancelRider(int riderId) {\n    \n  }\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * RideSharingSystem obj = RideSharingSystem();\n * obj.addRider(riderId);\n * obj.addDriver(driverId);\n * List<int> param3 = obj.matchDriverWithRider();\n * obj.cancelRider(riderId);\n */"
    },
    {
      "lang": "Scala",
      "code": "class RideSharingSystem() {\n\n    def addRider(riderId: Int): Unit = {\n        \n    }\n\n    def addDriver(driverId: Int): Unit = {\n        \n    }\n\n    def matchDriverWithRider(): Array[Int] = {\n        \n    }\n\n    def cancelRider(riderId: Int): Unit = {\n        \n    }\n\n}\n\n/**\n * Your RideSharingSystem object will be instantiated and called as such:\n * val obj = new RideSharingSystem()\n * obj.addRider(riderId)\n * obj.addDriver(driverId)\n * val param_3 = obj.matchDriverWithRider()\n * obj.cancelRider(riderId)\n */"
    },
    {
      "lang": "Elixir",
      "code": "defmodule RideSharingSystem do\n  @spec init_() :: any\n  def init_() do\n    \n  end\n\n  @spec add_rider(rider_id :: integer) :: any\n  def add_rider(rider_id) do\n    \n  end\n\n  @spec add_driver(driver_id :: integer) :: any\n  def add_driver(driver_id) do\n    \n  end\n\n  @spec match_driver_with_rider() :: [integer]\n  def match_driver_with_rider() do\n    \n  end\n\n  @spec cancel_rider(rider_id :: integer) :: any\n  def cancel_rider(rider_id) do\n    \n  end\nend\n\n# Your functions will be called as such:\n# RideSharingSystem.init_()\n# RideSharingSystem.add_rider(rider_id)\n# RideSharingSystem.add_driver(driver_id)\n# param_3 = RideSharingSystem.match_driver_with_rider()\n# RideSharingSystem.cancel_rider(rider_id)\n\n# RideSharingSystem.init_ will be called before every test case, in which you can do some necessary initializations."
    },
    {
      "lang": "Erlang",
      "code": "-spec ride_sharing_system_init_() -> any().\nride_sharing_system_init_() ->\n  .\n\n-spec ride_sharing_system_add_rider(RiderId :: integer()) -> any().\nride_sharing_system_add_rider(RiderId) ->\n  .\n\n-spec ride_sharing_system_add_driver(DriverId :: integer()) -> any().\nride_sharing_system_add_driver(DriverId) ->\n  .\n\n-spec ride_sharing_system_match_driver_with_rider() -> [integer()].\nride_sharing_system_match_driver_with_rider() ->\n  .\n\n-spec ride_sharing_system_cancel_rider(RiderId :: integer()) -> any().\nride_sharing_system_cancel_rider(RiderId) ->\n  .\n\n\n%% Your functions will be called as such:\n%% ride_sharing_system_init_(),\n%% ride_sharing_system_add_rider(RiderId),\n%% ride_sharing_system_add_driver(DriverId),\n%% Param_3 = ride_sharing_system_match_driver_with_rider(),\n%% ride_sharing_system_cancel_rider(RiderId),\n\n%% ride_sharing_system_init_ will be called before every test case, in which you can do some necessary initializations."
    },
    {
      "lang": "Racket",
      "code": "(define ride-sharing-system%\n  (class object%\n    (super-new)\n    \n    (init-field)\n    \n    ; add-rider : exact-integer? -> void?\n    (define/public (add-rider rider-id)\n      )\n    ; add-driver : exact-integer? -> void?\n    (define/public (add-driver driver-id)\n      )\n    ; match-driver-with-rider : -> (listof exact-integer?)\n    (define/public (match-driver-with-rider)\n      )\n    ; cancel-rider : exact-integer? -> void?\n    (define/public (cancel-rider rider-id)\n      )))\n\n;; Your ride-sharing-system% object will be instantiated and called as such:\n;; (define obj (new ride-sharing-system%))\n;; (send obj add-rider rider-id)\n;; (send obj add-driver driver-id)\n;; (define param_3 (send obj match-driver-with-rider))\n;; (send obj cancel-rider rider-id)"
    }
  ],
  "stats": "{\"totalAccepted\": \"25.7K\", \"totalSubmission\": \"40.6K\", \"totalAcceptedRaw\": 25678, \"totalSubmissionRaw\": 40622, \"acRate\": \"63.2%\"}",
  "metaData": "{\n  \"classname\": \"RideSharingSystem\",\n  \"constructor\": {\n    \"params\": []\n  },\n  \"methods\": [\n    {\n      \"params\": [\n        {\n          \"type\": \"integer\",\n          \"name\": \"riderId\"\n        }\n      ],\n      \"name\": \"addRider\",\n      \"return\": {\n        \"type\": \"void\"\n      }\n    },\n    {\n      \"params\": [\n        {\n          \"type\": \"integer\",\n          \"name\": \"driverId\"\n        }\n      ],\n      \"name\": \"addDriver\",\n      \"return\": {\n        \"type\": \"void\"\n      }\n    },\n    {\n      \"params\": [],\n      \"name\": \"matchDriverWithRider\",\n      \"return\": {\n        \"type\": \"integer[]\"\n      }\n    },\n    {\n      \"params\": [\n        {\n          \"type\": \"integer\",\n          \"name\": \"riderId\"\n        }\n      ],\n      \"name\": \"cancelRider\",\n      \"return\": {\n        \"type\": \"void\"\n      }\n    }\n  ],\n  \"return\": {\n    \"type\": \"boolean\"\n  },\n  \"systemdesign\": true\n}",
  "sampleTestCase": "[\"RideSharingSystem\",\"addRider\",\"addDriver\",\"addRider\",\"matchDriverWithRider\",\"addDriver\",\"cancelRider\",\"matchDriverWithRider\",\"matchDriverWithRider\"]\n[[],[3],[2],[1],[],[5],[3],[],[]]"
}