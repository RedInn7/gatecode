{
  "questionId": "4153",
  "questionFrontendId": "3797",
  "title": "Count Routes to Climb a Rectangular Grid",
  "titleSlug": "count-routes-to-climb-a-rectangular-grid",
  "content": "<p>You are given a string array <code>grid</code> of size <code>n</code>, where each string <code>grid[i]</code> has length <code>m</code>. The character <code>grid[i][j]</code> is one of the following symbols:</p>\n\n<ul>\n\t<li><code>&#39;.&#39;</code>: The cell is available.</li>\n\t<li><code>&#39;#&#39;</code>: The cell is blocked.</li>\n</ul>\n\n<p>You want to count the number of different routes to climb <code>grid</code>. Each route must start from <em>any cell</em> in the bottom row (row <code>n - 1</code>) and end in the top row (row 0).</p>\n\n<p>However, there are some constraints on the route.</p>\n\n<ul>\n\t<li>You can only move from one available cell to <strong>another</strong> available cell.</li>\n\t<li>The <strong>Euclidean distance</strong> of each move is <strong>at most</strong> <code>d</code>, where <code>d</code> is an integer parameter given to you. The Euclidean distance between two cells <code>(r1, c1)</code>, <code>(r2, c2)</code> is <code>sqrt((r1 - r2)<sup>2</sup> + (c1 - c2)<sup>2</sup>)</code>.</li>\n\t<li>Each move either stays on the same row or moves to the row directly above (from row <code>r</code> to <code>r - 1</code>).</li>\n\t<li>You cannot stay on the same row for two consecutive turns. If you stay on the same row in a move (and this move is not the last move), your next move must go to the row above.</li>\n</ul>\n\n<p>Return an integer denoting the number of such routes. Since the answer may be very large, return it <strong>modulo</strong> <code>10<sup>9</sup> + 7</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [&quot;..&quot;,&quot;#.&quot;], d = 1</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">2</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>We label the cells we visit in the routes sequentially, starting from 1. The two routes are:</p>\n\n<pre>\n.2\n#1\n</pre>\n\n<pre>\n32\n#1\n</pre>\n\n<p>We can move from the cell (1, 1) to the cell (0, 1) because the Euclidean distance is <code>sqrt((1 - 0)<sup>2</sup> + (1 - 1)<sup>2</sup>) = sqrt(1) &lt;= d</code>.</p>\n\n<p>However, we cannot move from the cell (1, 1) to the cell (0, 0) because the Euclidean distance is <code>sqrt((1 - 0)<sup>2</sup> + (1 - 0)<sup>2</sup>) = sqrt(2) &gt; d</code>.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [&quot;..&quot;,&quot;#.&quot;], d = 2</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">4</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Two of the routes are given in example 1. The other two routes are:</p>\n\n<pre>\n2.\n#1\n</pre>\n\n<pre>\n23\n#1\n</pre>\n\n<p>Note that we can move from (1, 1) to (0, 0) because the Euclidean distance is <code>sqrt(2) &lt;= d</code>.</p>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [&quot;#&quot;], d = 750</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">0</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>We cannot choose any cell as the starting cell. Therefore, there are no routes.</p>\n</div>\n\n<p><strong class=\"example\">Example 4:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">grid = [&quot;..&quot;], d = 1</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">4</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The possible routes are:</p>\n\n<pre>\n.1\n</pre>\n\n<pre>\n1.\n</pre>\n\n<pre>\n12\n</pre>\n\n<pre>\n21\n</pre>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n == grid.length &lt;= 750</code></li>\n\t<li><code>1 &lt;= m == grid[i].length &lt;= 750</code></li>\n\t<li><code>grid[i][j]</code> is <code>&#39;.&#39;</code> or <code>&#39;#&#39;</code>.</li>\n\t<li><code>1 &lt;= d &lt;= 750</code></li>\n</ul>\n",
  "difficulty": "Hard",
  "codeSnippets": [
    {
      "lang": "C++",
      "code": "class Solution {\npublic:\n    int numberOfRoutes(vector<string>& grid, int d) {\n        \n    }\n};"
    },
    {
      "lang": "Java",
      "code": "class Solution {\n    public int numberOfRoutes(String[] grid, int d) {\n        \n    }\n}"
    },
    {
      "lang": "Python3",
      "code": "class Solution:\n    def numberOfRoutes(self, grid: List[str], d: int) -> int:\n        "
    },
    {
      "lang": "Python",
      "code": "class Solution(object):\n    def numberOfRoutes(self, grid, d):\n        \"\"\"\n        :type grid: List[str]\n        :type d: int\n        :rtype: int\n        \"\"\"\n        "
    },
    {
      "lang": "JavaScript",
      "code": "/**\n * @param {string[]} grid\n * @param {number} d\n * @return {number}\n */\nvar numberOfRoutes = function(grid, d) {\n    \n};"
    },
    {
      "lang": "TypeScript",
      "code": "function numberOfRoutes(grid: string[], d: number): number {\n    \n};"
    },
    {
      "lang": "C#",
      "code": "public class Solution {\n    public int NumberOfRoutes(string[] grid, int d) {\n        \n    }\n}"
    },
    {
      "lang": "C",
      "code": "int numberOfRoutes(char** grid, int gridSize, int d) {\n    \n}"
    },
    {
      "lang": "Go",
      "code": "func numberOfRoutes(grid []string, d int) int {\n    \n}"
    },
    {
      "lang": "Kotlin",
      "code": "class Solution {\n    fun numberOfRoutes(grid: Array<String>, d: Int): Int {\n        \n    }\n}"
    },
    {
      "lang": "Swift",
      "code": "class Solution {\n    func numberOfRoutes(_ grid: [String], _ d: Int) -> Int {\n        \n    }\n}"
    },
    {
      "lang": "Rust",
      "code": "impl Solution {\n    pub fn number_of_routes(grid: Vec<String>, d: i32) -> i32 {\n        \n    }\n}"
    },
    {
      "lang": "Ruby",
      "code": "# @param {String[]} grid\n# @param {Integer} d\n# @return {Integer}\ndef number_of_routes(grid, d)\n    \nend"
    },
    {
      "lang": "PHP",
      "code": "class Solution {\n\n    /**\n     * @param String[] $grid\n     * @param Integer $d\n     * @return Integer\n     */\n    function numberOfRoutes($grid, $d) {\n        \n    }\n}"
    },
    {
      "lang": "Dart",
      "code": "class Solution {\n  int numberOfRoutes(List<String> grid, int d) {\n    \n  }\n}"
    },
    {
      "lang": "Scala",
      "code": "object Solution {\n    def numberOfRoutes(grid: Array[String], d: Int): Int = {\n        \n    }\n}"
    },
    {
      "lang": "Elixir",
      "code": "defmodule Solution do\n  @spec number_of_routes(grid :: [String.t], d :: integer) :: integer\n  def number_of_routes(grid, d) do\n    \n  end\nend"
    },
    {
      "lang": "Erlang",
      "code": "-spec number_of_routes(Grid :: [unicode:unicode_binary()], D :: integer()) -> integer().\nnumber_of_routes(Grid, D) ->\n  ."
    },
    {
      "lang": "Racket",
      "code": "(define/contract (number-of-routes grid d)\n  (-> (listof string?) exact-integer? exact-integer?)\n  )"
    }
  ],
  "stats": "{\"totalAccepted\": \"3.4K\", \"totalSubmission\": \"14.3K\", \"totalAcceptedRaw\": 3367, \"totalSubmissionRaw\": 14333, \"acRate\": \"23.5%\"}",
  "metaData": "{\n  \"name\": \"numberOfRoutes\",\n  \"params\": [\n    {\n      \"name\": \"grid\",\n      \"type\": \"string[]\"\n    },\n    {\n      \"type\": \"integer\",\n      \"name\": \"d\"\n    }\n  ],\n  \"return\": {\n    \"type\": \"integer\"\n  }\n}",
  "sampleTestCase": "[\"..\",\"#.\"]\n1"
}